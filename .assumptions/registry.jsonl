{"id":"api-knowledge-add-observation","category":"api","claim":"MCP knowledge add_observation params are entity_id + content, NOT entityId/observation","evidence":"Discovered empirically 2026-02-10 during knowledge graph extraction","source":"MEMORY.md","confidence":0.95,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-10T00:00:00Z","verification_method":"Call add_observation with entityId param — should fail. Call with entity_id — should succeed.","failure_history":[],"status":"active","blast_radius":"All knowledge graph write operations fail silently or error","verification_type":"manual"}
{"id":"api-knowledge-create-relation","category":"api","claim":"MCP knowledge create_relation params are from_id + to_id, NOT source_id/target_id","evidence":"Discovered empirically 2026-02-10","source":"MEMORY.md","confidence":0.95,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-10T00:00:00Z","verification_method":"Call create_relation with source_id — should fail. Call with from_id — should succeed.","failure_history":[],"status":"active","blast_radius":"All knowledge graph relation creation fails","verification_type":"manual"}
{"id":"api-knowledge-query-graph","category":"api","claim":"MCP knowledge query_graph param is start_entity_id, NOT entity_id. Only follows OUTGOING relations.","evidence":"Discovered empirically 2026-02-10","source":"MEMORY.md","confidence":0.95,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-10T00:00:00Z","verification_method":"Call query_graph with entity_id — should fail. Call with start_entity_id — should succeed.","failure_history":[],"status":"active","blast_radius":"Knowledge graph traversal returns nothing or errors","verification_type":"manual"}
{"id":"behavior-hub-reregister","category":"behavior","claim":"Re-registering on Hub gives new agentId, permanently losing coordinator role","evidence":"Discovered empirically 2026-02-08","source":"MEMORY.md","confidence":0.95,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-08T00:00:00Z","verification_method":"Register agent, create workspace, re-register same agent — check if coordinator role lost","failure_history":[],"status":"active","blast_radius":"Workspace merge and shutdown operations become impossible","verification_type":"manual"}
{"id":"tooling-subagent-general-purpose","category":"tooling","claim":"Sub-agents MUST be spawned as subagent_type: 'general-purpose' to get ToolSearch. Custom agent types do NOT get ToolSearch in Agent Teams context.","evidence":"Discovered empirically 2026-02-09 Run 005","source":"MEMORY.md","confidence":0.95,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-09T00:00:00Z","verification_method":"Spawn agent with custom type, verify ToolSearch unavailable. Spawn as general-purpose, verify ToolSearch works.","failure_history":[],"status":"active","blast_radius":"Agent cannot load MCP tools, making hub/gateway integration impossible","verification_type":"manual"}
{"id":"tooling-background-spawning","category":"tooling","claim":"Team agents MUST use run_in_background: true. Without it, no task_id returned and agents cannot be force-killed.","evidence":"Discovered empirically 2026-02-09","source":"MEMORY.md","confidence":0.95,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-09T00:00:00Z","verification_method":"Spawn agent without run_in_background, verify no task_id in response","failure_history":[],"status":"active","blast_radius":"Stuck agents run until turn budget exhaustion (potentially hours)","verification_type":"manual"}
{"id":"tooling-agent-definitions-cached","category":"tooling","claim":"Agent definitions (.claude/agents/*.md) are cached at session start. Editing mid-session has NO effect on running agents.","evidence":"Discovered empirically 2026-02-08-09 across Runs 004-005","source":"MEMORY.md","confidence":0.95,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-09T00:00:00Z","verification_method":"Edit agent file mid-session, spawn agent, verify old definition used","failure_history":[],"status":"active","blast_radius":"Agent behavior doesn't match edited definition, causing confusion","verification_type":"manual"}
{"id":"tooling-mcp-no-mcpservers","category":"tooling","claim":"DO NOT use mcpServers: in agent frontmatter. Sub-agents inherit parent MCP tools. mcpServers causes 'Tool names must be unique' errors.","evidence":"Researched 2026-02-08. Known bug: GH #10668, #10704, #21560","source":"MEMORY.md","confidence":0.95,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-08T00:00:00Z","verification_method":"Add mcpServers to agent frontmatter, spawn agent, check for duplicate tool errors","failure_history":[],"status":"active","blast_radius":"Agent fails to start or gets API errors on every tool call","verification_type":"manual"}
{"id":"environment-observatory-in-memory","category":"environment","claim":"Observatory session store is in-memory only (InMemorySessionStore in reasoning.ts). Sessions lost on restart.","evidence":"Verified by code reading 2026-02-09","source":"MEMORY.md","confidence":0.9,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-09T00:00:00Z","verification_method":"Read src/observatory/reasoning.ts, check for InMemorySessionStore class","failure_history":[],"status":"active","blast_radius":"All Observatory session data lost on container/process restart","verification_type":"manual"}
{"id":"environment-observatory-port","category":"environment","claim":"Observatory REST API is on port 1729 (same as UI), NOT 1731/MCP","evidence":"Verified empirically 2026-02-09","source":"MEMORY.md","confidence":0.9,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-09T00:00:00Z","verification_method":"curl http://localhost:1729/api/observatory/events — should return JSON","failure_history":[],"status":"active","blast_radius":"All Observatory API calls fail if using wrong port","verification_type":"manual"}
{"id":"dependency-vitest-tree-shaking","category":"dependency","claim":"Vitest tree-shakes unused imports. If a test imports but doesn't USE a function, the import is silently removed.","evidence":"Discovered empirically","source":"MEMORY.md","confidence":0.85,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-01T00:00:00Z","verification_method":"Write test that imports but doesn't call a function, verify import not in bundle","failure_history":[],"status":"active","blast_radius":"Tests appear to pass but don't actually test anything","verification_type":"manual"}
{"id":"tooling-hooks-write-protected","category":"tooling","claim":".claude/hooks/ directory is write-protected — user must create hook files manually","evidence":"MEMORY.md note, but contradicted by hook files being created by agents in practice","source":"MEMORY.md","confidence":0.5,"created":"2026-02-11T00:00:00Z","last_verified":"2026-02-11T00:00:00Z","verification_method":"Attempt to write a new file to .claude/hooks/ — check if it succeeds","failure_history":[],"status":"active","blast_radius":"Cannot create new hooks programmatically, must instruct user","verification_type":"manual"}
