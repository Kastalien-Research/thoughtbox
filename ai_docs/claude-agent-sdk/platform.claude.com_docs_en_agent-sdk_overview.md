---
url: "https://platform.claude.com/docs/en/agent-sdk/overview"
title: "Agent SDK overview - Claude Docs"
---

[Claude Documentation Home](https://platform.claude.com/docs/en/home)

- [Developer Guide](https://platform.claude.com/docs/en/intro)
- [API Reference](https://platform.claude.com/docs/en/api/overview)
- [MCP](https://modelcontextprotocol.io/)
- [Resources](https://platform.claude.com/docs/en/resources/overview)
- [Release Notes](https://platform.claude.com/docs/en/release-notes/overview)

English

[Log in](https://platform.claude.com/login?returnTo=%2Fdocs%2Fen%2Fagent-sdk%2Foverview)

Search...

⌘K

First steps

[Intro to Claude](https://platform.claude.com/docs/en/intro) [Quickstart](https://platform.claude.com/docs/en/get-started)

Models & pricing

[Models overview](https://platform.claude.com/docs/en/about-claude/models/overview) [Choosing a model](https://platform.claude.com/docs/en/about-claude/models/choosing-a-model) [What's new in Claude 4.5](https://platform.claude.com/docs/en/about-claude/models/whats-new-claude-4-5) [Migrating to Claude 4.5](https://platform.claude.com/docs/en/about-claude/models/migrating-to-claude-4) [Model deprecations](https://platform.claude.com/docs/en/about-claude/model-deprecations) [Pricing](https://platform.claude.com/docs/en/about-claude/pricing)

Build with Claude

[Features overview](https://platform.claude.com/docs/en/build-with-claude/overview) [Using the Messages API](https://platform.claude.com/docs/en/build-with-claude/working-with-messages) [Context windows](https://platform.claude.com/docs/en/build-with-claude/context-windows) [Prompting best practices](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/claude-4-best-practices)

Capabilities

[Prompt caching](https://platform.claude.com/docs/en/build-with-claude/prompt-caching) [Context editing](https://platform.claude.com/docs/en/build-with-claude/context-editing) [Extended thinking](https://platform.claude.com/docs/en/build-with-claude/extended-thinking) [Effort](https://platform.claude.com/docs/en/build-with-claude/effort) [Streaming Messages](https://platform.claude.com/docs/en/build-with-claude/streaming) [Batch processing](https://platform.claude.com/docs/en/build-with-claude/batch-processing) [Citations](https://platform.claude.com/docs/en/build-with-claude/citations) [Multilingual support](https://platform.claude.com/docs/en/build-with-claude/multilingual-support) [Token counting](https://platform.claude.com/docs/en/build-with-claude/token-counting) [Embeddings](https://platform.claude.com/docs/en/build-with-claude/embeddings) [Vision](https://platform.claude.com/docs/en/build-with-claude/vision) [PDF support](https://platform.claude.com/docs/en/build-with-claude/pdf-support) [Files API](https://platform.claude.com/docs/en/build-with-claude/files) [Search results](https://platform.claude.com/docs/en/build-with-claude/search-results) [Structured outputs](https://platform.claude.com/docs/en/build-with-claude/structured-outputs) [Google Sheets add-on](https://platform.claude.com/docs/en/agents-and-tools/claude-for-sheets)

Tools

[Overview](https://platform.claude.com/docs/en/agents-and-tools/tool-use/overview) [How to implement tool use](https://platform.claude.com/docs/en/agents-and-tools/tool-use/implement-tool-use) [Fine-grained tool streaming](https://platform.claude.com/docs/en/agents-and-tools/tool-use/fine-grained-tool-streaming) [Bash tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/bash-tool) [Code execution tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/code-execution-tool) [Programmatic tool calling](https://platform.claude.com/docs/en/agents-and-tools/tool-use/programmatic-tool-calling) [Computer use tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/computer-use-tool) [Text editor tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/text-editor-tool) [Web fetch tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/web-fetch-tool) [Web search tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/web-search-tool) [Memory tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/memory-tool) [Tool search tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/tool-search-tool)

Agent Skills

[Overview](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/overview) [Quickstart](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/quickstart) [Best practices](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices) [Using Skills with the API](https://platform.claude.com/docs/en/build-with-claude/skills-guide)

Agent SDK

[Overview](https://platform.claude.com/docs/en/agent-sdk/overview) [Quickstart](https://platform.claude.com/docs/en/agent-sdk/quickstart) [TypeScript SDK](https://platform.claude.com/docs/en/agent-sdk/typescript) [TypeScript V2 (preview)](https://platform.claude.com/docs/en/agent-sdk/typescript-v2-preview) [Python SDK](https://platform.claude.com/docs/en/agent-sdk/python) [Migration Guide](https://platform.claude.com/docs/en/agent-sdk/migration-guide) Guides

[Streaming Input](https://platform.claude.com/docs/en/agent-sdk/streaming-vs-single-mode) [Handling Permissions](https://platform.claude.com/docs/en/agent-sdk/permissions) [Session Management](https://platform.claude.com/docs/en/agent-sdk/sessions) [Structured outputs in the SDK](https://platform.claude.com/docs/en/agent-sdk/structured-outputs) [Hosting the Agent SDK](https://platform.claude.com/docs/en/agent-sdk/hosting) [Securely deploying AI agents](https://platform.claude.com/docs/en/agent-sdk/secure-deployment) [Modifying system prompts](https://platform.claude.com/docs/en/agent-sdk/modifying-system-prompts) [MCP in the SDK](https://platform.claude.com/docs/en/agent-sdk/mcp) [Custom Tools](https://platform.claude.com/docs/en/agent-sdk/custom-tools) [Subagents in the SDK](https://platform.claude.com/docs/en/agent-sdk/subagents) [Slash Commands in the SDK](https://platform.claude.com/docs/en/agent-sdk/slash-commands) [Agent Skills in the SDK](https://platform.claude.com/docs/en/agent-sdk/skills) [Tracking Costs and Usage](https://platform.claude.com/docs/en/agent-sdk/cost-tracking) [Todo Lists](https://platform.claude.com/docs/en/agent-sdk/todo-tracking) [Plugins in the SDK](https://platform.claude.com/docs/en/agent-sdk/plugins)

MCP in the API

[MCP connector](https://platform.claude.com/docs/en/agents-and-tools/mcp-connector) [Remote MCP servers](https://platform.claude.com/docs/en/agents-and-tools/remote-mcp-servers)

Claude on 3rd-party platforms

[Amazon Bedrock](https://platform.claude.com/docs/en/build-with-claude/claude-on-amazon-bedrock) [Microsoft Foundry](https://platform.claude.com/docs/en/build-with-claude/claude-in-microsoft-foundry) [Vertex AI](https://platform.claude.com/docs/en/build-with-claude/claude-on-vertex-ai)

Prompt engineering

[Overview](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/overview) [Prompt generator](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/prompt-generator) [Use prompt templates](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/prompt-templates-and-variables) [Prompt improver](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/prompt-improver) [Be clear and direct](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/be-clear-and-direct) [Use examples (multishot prompting)](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/multishot-prompting) [Let Claude think (CoT)](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/chain-of-thought) [Use XML tags](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/use-xml-tags) [Give Claude a role (system prompts)](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/system-prompts) [Prefill Claude's response](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/prefill-claudes-response) [Chain complex prompts](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/chain-prompts) [Long context tips](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/long-context-tips) [Extended thinking tips](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/extended-thinking-tips)

Test & evaluate

[Define success criteria](https://platform.claude.com/docs/en/test-and-evaluate/define-success) [Develop test cases](https://platform.claude.com/docs/en/test-and-evaluate/develop-tests) [Using the Evaluation Tool](https://platform.claude.com/docs/en/test-and-evaluate/eval-tool) [Reducing latency](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/reduce-latency)

Strengthen guardrails

[Reduce hallucinations](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/reduce-hallucinations) [Increase output consistency](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/increase-consistency) [Mitigate jailbreaks](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks) [Streaming refusals](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals) [Reduce prompt leak](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/reduce-prompt-leak) [Keep Claude in character](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/keep-claude-in-character)

Administration and monitoring

[Admin API overview](https://platform.claude.com/docs/en/build-with-claude/administration-api) [Usage and Cost API](https://platform.claude.com/docs/en/build-with-claude/usage-cost-api) [Claude Code Analytics API](https://platform.claude.com/docs/en/build-with-claude/claude-code-analytics-api)

[Console](https://platform.claude.com/)

[Log in](https://platform.claude.com/login)

Agent SDK

Overview

Agent SDK

# Agent SDK overview

Copy page

Build production AI agents with Claude Code as a library

Copy page

The Claude Code SDK has been renamed to the Claude Agent SDK. If you're migrating from the old SDK, see the [Migration Guide](https://platform.claude.com/docs/en/agent-sdk/migration-guide).

Build AI agents that autonomously read files, run commands, search the web, edit code, and more. The Agent SDK gives you the same tools, agent loop, and context management that power Claude Code, programmable in Python and TypeScript.

Python

```
import asyncio
from claude_agent_sdk import query, ClaudeAgentOptions

async def main():
    async for message in query(
        prompt="Find and fix the bug in auth.py",
        options=ClaudeAgentOptions(allowed_tools=["Read", "Edit", "Bash"])
    ):
        print(message)  # Claude reads the file, finds the bug, edits it

asyncio.run(main())
```

The Agent SDK includes built-in tools for reading files, running commands, and editing code, so your agent can start working immediately without you implementing tool execution. Dive into the quickstart or explore real agents built with the SDK:

[Quickstart\\
\\
Build a bug-fixing agent in minutes](https://platform.claude.com/docs/en/agent-sdk/quickstart) [Example agents\\
\\
Email assistant, research agent, and more](https://github.com/anthropics/claude-agent-sdk-demos)

## Capabilities

Everything that makes Claude Code powerful is available in the SDK:

Built-in tools

Built-in tools

Hooks

Hooks

Subagents

Subagents

MCP

MCP

Permissions

Permissions

Sessions

Sessions

Your agent can read files, run commands, and search codebases out of the box. Key tools include:

| Tool | What it does |
| --- | --- |
| **Read** | Read any file in the working directory |
| **Write** | Create new files |
| **Edit** | Make precise edits to existing files |
| **Bash** | Run terminal commands, scripts, git operations |
| **Glob** | Find files by pattern (`**/*.ts`, `src/**/*.py`) |
| **Grep** | Search file contents with regex |
| **WebSearch** | Search the web for current information |
| **WebFetch** | Fetch and parse web page content |

This example creates an agent that searches your codebase for TODO comments:

Python

```
import asyncio
from claude_agent_sdk import query, ClaudeAgentOptions

async def main():
    async for message in query(
        prompt="Find all TODO comments and create a summary",
        options=ClaudeAgentOptions(allowed_tools=["Read", "Glob", "Grep"])
    ):
        print(message)

asyncio.run(main())
```

[View full tool reference →](https://docs.anthropic.com/en/docs/claude-code/cli-reference#tools-available-to-claude)

### Claude Code features

The SDK also supports Claude Code's filesystem-based configuration. To use these features, set `setting_sources=["project"]` (Python) or `settingSources: ['project']` (TypeScript) in your options.

| Feature | Description | Location |
| --- | --- | --- |
| [Skills](https://platform.claude.com/docs/en/agent-sdk/skills) | Specialized capabilities defined in Markdown | `.claude/skills/SKILL.md` |
| [Slash commands](https://platform.claude.com/docs/en/agent-sdk/slash-commands) | Custom commands for common tasks | `.claude/commands/*.md` |
| [Memory](https://platform.claude.com/docs/en/agent-sdk/modifying-system-prompts) | Project context and instructions | `CLAUDE.md` or `.claude/CLAUDE.md` |
| [Plugins](https://platform.claude.com/docs/en/agent-sdk/plugins) | Extend with custom commands, agents, and MCP servers | Programmatic via `plugins` option |

## Get started

1. 1



Install Claude Code







The SDK uses Claude Code as its runtime:








macOS/Linux/WSL

macOS/Linux/WSL

Homebrew

Homebrew

npm

npm












```
curl -fsSL https://claude.ai/install.sh | bash
```





































See [Claude Code setup](https://docs.anthropic.com/en/docs/claude-code/setup) for Windows and other options.

2. 2



Install the SDK












TypeScript

TypeScript

Python

Python












```
npm install @anthropic-ai/claude-agent-sdk
```

3. 3



Set your API key













```
export ANTHROPIC_API_KEY=your-api-key
```























Get your key from the [Console](https://console.anthropic.com/).



The SDK also supports authentication via third-party API providers:



- **Amazon Bedrock**: Set `CLAUDE_CODE_USE_BEDROCK=1` environment variable and configure AWS credentials
- **Google Vertex AI**: Set `CLAUDE_CODE_USE_VERTEX=1` environment variable and configure Google Cloud credentials
- **Microsoft Foundry**: Set `CLAUDE_CODE_USE_FOUNDRY=1` environment variable and configure Azure credentials

Unless previously approved, we do not allow third party developers to offer Claude.ai login or rate limits for their products, including agents built on the Claude Agent SDK. Please use the API key authentication methods described in this document instead.

4. 4



Run your first agent







This example creates an agent that lists files in your current directory using built-in tools.





Python























```
import asyncio
from claude_agent_sdk import query, ClaudeAgentOptions

async def main():
       async for message in query(
           prompt="What files are in this directory?",
           options=ClaudeAgentOptions(allowed_tools=["Bash", "Glob"])
       ):
           print(message)

asyncio.run(main())
```


**Ready to build?** Follow the [Quickstart](https://platform.claude.com/docs/en/agent-sdk/quickstart) to create an agent that finds and fixes bugs in minutes.

## Compare the Agent SDK to other Claude tools

The Claude platform offers multiple ways to build with Claude. Here's how the Agent SDK fits in:

Agent SDK vs Client SDK

Agent SDK vs Client SDK

Agent SDK vs Claude Code CLI

Agent SDK vs Claude Code CLI

The [Anthropic Client SDK](https://platform.claude.com/docs/en/api/client-sdks) gives you direct API access: you send prompts and implement tool execution yourself. The **Agent SDK** gives you Claude with built-in tool execution.

With the Client SDK, you implement a tool loop. With the Agent SDK, Claude handles it:

Python

```
# Client SDK: You implement the tool loop
response = client.messages.create(...)
while response.stop_reason == "tool_use":
    result = your_tool_executor(response.tool_use)
    response = client.messages.create(tool_result=result, ...)

# Agent SDK: Claude handles tools autonomously
async for message in query(prompt="Fix the bug in auth.py"):
    print(message)
```

## Changelog

View the full changelog for SDK updates, bug fixes, and new features:

- **TypeScript SDK**: [View CHANGELOG.md](https://github.com/anthropics/claude-agent-sdk-typescript/blob/main/CHANGELOG.md)
- **Python SDK**: [View CHANGELOG.md](https://github.com/anthropics/claude-agent-sdk-python/blob/main/CHANGELOG.md)

## Reporting bugs

If you encounter bugs or issues with the Agent SDK:

- **TypeScript SDK**: [Report issues on GitHub](https://github.com/anthropics/claude-agent-sdk-typescript/issues)
- **Python SDK**: [Report issues on GitHub](https://github.com/anthropics/claude-agent-sdk-python/issues)

## Branding guidelines

For partners integrating the Claude Agent SDK, use of Claude branding is optional. When referencing Claude in your product:

**Allowed:**

- "Claude Agent" (preferred for dropdown menus)
- "Claude" (when within a menu already labeled "Agents")
- "{YourAgentName} Powered by Claude" (if you have an existing agent name)

**Not permitted:**

- "Claude Code" or "Claude Code Agent"
- Claude Code-branded ASCII art or visual elements that mimic Claude Code

Your product should maintain its own branding and not appear to be Claude Code or any Anthropic product. For questions about branding compliance, contact our [sales team](https://www.anthropic.com/contact-sales).

## License and terms

Use of the Claude Agent SDK is governed by [Anthropic's Commercial Terms of Service](https://www.anthropic.com/legal/commercial-terms), including when you use it to power products and services that you make available to your own customers and end users, except to the extent a specific component or dependency is covered by a different license as indicated in that component's LICENSE file.

## Next steps

[Quickstart\\
\\
Build an agent that finds and fixes bugs in minutes](https://platform.claude.com/docs/en/agent-sdk/quickstart) [Example agents\\
\\
Email assistant, research agent, and more](https://github.com/anthropics/claude-agent-sdk-demos) [TypeScript SDK\\
\\
Full TypeScript API reference and examples](https://platform.claude.com/docs/en/agent-sdk/typescript) [Python SDK\\
\\
Full Python API reference and examples](https://platform.claude.com/docs/en/agent-sdk/python)

- [Capabilities](https://platform.claude.com/docs/en/agent-sdk/overview#capabilities)
- [Claude Code features](https://platform.claude.com/docs/en/agent-sdk/overview#claude-code-features)
- [Get started](https://platform.claude.com/docs/en/agent-sdk/overview#get-started)
- [Compare the Agent SDK to other Claude tools](https://platform.claude.com/docs/en/agent-sdk/overview#compare-the-agent-sdk-to-other-claude-tools)
- [Changelog](https://platform.claude.com/docs/en/agent-sdk/overview#changelog)
- [Reporting bugs](https://platform.claude.com/docs/en/agent-sdk/overview#reporting-bugs)
- [Branding guidelines](https://platform.claude.com/docs/en/agent-sdk/overview#branding-guidelines)
- [License and terms](https://platform.claude.com/docs/en/agent-sdk/overview#license-and-terms)
- [Next steps](https://platform.claude.com/docs/en/agent-sdk/overview#next-steps)

[Claude Docs home page](https://platform.claude.com/docs)

[X (Twitter)](https://x.com/claudeai)[LinkedIn](https://www.linkedin.com/showcase/claude)[Instagram](https://instagram.com/claudeai)

### Solutions

- [AI agents](https://claude.com/solutions/agents)
- [Code modernization](https://claude.com/solutions/code-modernization)
- [Coding](https://claude.com/solutions/coding)
- [Customer support](https://claude.com/solutions/customer-support)
- [Education](https://claude.com/solutions/education)
- [Financial services](https://claude.com/solutions/financial-services)
- [Government](https://claude.com/solutions/government)
- [Life sciences](https://claude.com/solutions/life-sciences)

### Partners

- [Amazon Bedrock](https://claude.com/partners/amazon-bedrock)
- [Google Cloud's Vertex AI](https://claude.com/partners/google-cloud-vertex-ai)

### Learn

- [Blog](https://claude.com/blog)
- [Catalog](https://claude.ai/catalog/artifacts)
- [Courses](https://www.anthropic.com/learn)
- [Use cases](https://claude.com/resources/use-cases)
- [Connectors](https://claude.com/partners/mcp)
- [Customer stories](https://claude.com/customers)
- [Engineering at Anthropic](https://www.anthropic.com/engineering)
- [Events](https://www.anthropic.com/events)
- [Powered by Claude](https://claude.com/partners/powered-by-claude)
- [Service partners](https://claude.com/partners/services)
- [Startups program](https://claude.com/programs/startups)

### Company

- [Anthropic](https://www.anthropic.com/company)
- [Careers](https://www.anthropic.com/careers)
- [Economic Futures](https://www.anthropic.com/economic-futures)
- [Research](https://www.anthropic.com/research)
- [News](https://www.anthropic.com/news)
- [Responsible Scaling Policy](https://www.anthropic.com/news/announcing-our-updated-responsible-scaling-policy)
- [Security and compliance](https://trust.anthropic.com/)
- [Transparency](https://www.anthropic.com/transparency)

### Learn

- [Blog](https://claude.com/blog)
- [Catalog](https://claude.ai/catalog/artifacts)
- [Courses](https://www.anthropic.com/learn)
- [Use cases](https://claude.com/resources/use-cases)
- [Connectors](https://claude.com/partners/mcp)
- [Customer stories](https://claude.com/customers)
- [Engineering at Anthropic](https://www.anthropic.com/engineering)
- [Events](https://www.anthropic.com/events)
- [Powered by Claude](https://claude.com/partners/powered-by-claude)
- [Service partners](https://claude.com/partners/services)
- [Startups program](https://claude.com/programs/startups)

### Help and security

- [Availability](https://www.anthropic.com/supported-countries)
- [Status](https://status.anthropic.com/)
- [Support](https://support.claude.com/)
- [Discord](https://www.anthropic.com/discord)

### Terms and policies

- [Privacy policy](https://www.anthropic.com/legal/privacy)
- [Responsible disclosure policy](https://www.anthropic.com/responsible-disclosure-policy)
- [Terms of service: Commercial](https://www.anthropic.com/legal/commercial-terms)
- [Terms of service: Consumer](https://www.anthropic.com/legal/consumer-terms)
- [Usage policy](https://www.anthropic.com/legal/aup)

Ask Docs
![Chat avatar](https://platform.claude.com/docs/images/book-icon-light.svg)

a.claude.ai

# a.claude.ai is blocked

**a.claude.ai** refused to connect.

ERR\_BLOCKED\_BY\_RESPONSE

**a.claude.ai** refused to connect.

![](<Base64-Image-Removed>)![](<Base64-Image-Removed>)

Invalid domain for site key.

ERROR for site owner:

Invalid domain for site key

reCAPTCHA

[Privacy](https://www.google.com/intl/en/policies/privacy/) \- [Terms](https://www.google.com/intl/en/policies/terms/)