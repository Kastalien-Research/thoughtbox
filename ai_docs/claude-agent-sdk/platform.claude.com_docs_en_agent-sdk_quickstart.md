---
url: "https://platform.claude.com/docs/en/agent-sdk/quickstart"
title: "Quickstart - Claude Docs"
---

[Claude Documentation Home](https://platform.claude.com/docs/en/home)

- [Developer Guide](https://platform.claude.com/docs/en/intro)
- [API Reference](https://platform.claude.com/docs/en/api/overview)
- [MCP](https://modelcontextprotocol.io/)
- [Resources](https://platform.claude.com/docs/en/resources/overview)
- [Release Notes](https://platform.claude.com/docs/en/release-notes/overview)

English

[Log in](https://platform.claude.com/login?returnTo=%2Fdocs%2Fen%2Fagent-sdk%2Fquickstart)

Search...

âŒ˜K

First steps

[Intro to Claude](https://platform.claude.com/docs/en/intro) [Quickstart](https://platform.claude.com/docs/en/get-started)

Models & pricing

[Models overview](https://platform.claude.com/docs/en/about-claude/models/overview) [Choosing a model](https://platform.claude.com/docs/en/about-claude/models/choosing-a-model) [What's new in Claude 4.5](https://platform.claude.com/docs/en/about-claude/models/whats-new-claude-4-5) [Migrating to Claude 4.5](https://platform.claude.com/docs/en/about-claude/models/migrating-to-claude-4) [Model deprecations](https://platform.claude.com/docs/en/about-claude/model-deprecations) [Pricing](https://platform.claude.com/docs/en/about-claude/pricing)

Build with Claude

[Features overview](https://platform.claude.com/docs/en/build-with-claude/overview) [Using the Messages API](https://platform.claude.com/docs/en/build-with-claude/working-with-messages) [Context windows](https://platform.claude.com/docs/en/build-with-claude/context-windows) [Prompting best practices](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/claude-4-best-practices)

Capabilities

[Prompt caching](https://platform.claude.com/docs/en/build-with-claude/prompt-caching) [Context editing](https://platform.claude.com/docs/en/build-with-claude/context-editing) [Extended thinking](https://platform.claude.com/docs/en/build-with-claude/extended-thinking) [Effort](https://platform.claude.com/docs/en/build-with-claude/effort) [Streaming Messages](https://platform.claude.com/docs/en/build-with-claude/streaming) [Batch processing](https://platform.claude.com/docs/en/build-with-claude/batch-processing) [Citations](https://platform.claude.com/docs/en/build-with-claude/citations) [Multilingual support](https://platform.claude.com/docs/en/build-with-claude/multilingual-support) [Token counting](https://platform.claude.com/docs/en/build-with-claude/token-counting) [Embeddings](https://platform.claude.com/docs/en/build-with-claude/embeddings) [Vision](https://platform.claude.com/docs/en/build-with-claude/vision) [PDF support](https://platform.claude.com/docs/en/build-with-claude/pdf-support) [Files API](https://platform.claude.com/docs/en/build-with-claude/files) [Search results](https://platform.claude.com/docs/en/build-with-claude/search-results) [Structured outputs](https://platform.claude.com/docs/en/build-with-claude/structured-outputs) [Google Sheets add-on](https://platform.claude.com/docs/en/agents-and-tools/claude-for-sheets)

Tools

[Overview](https://platform.claude.com/docs/en/agents-and-tools/tool-use/overview) [How to implement tool use](https://platform.claude.com/docs/en/agents-and-tools/tool-use/implement-tool-use) [Fine-grained tool streaming](https://platform.claude.com/docs/en/agents-and-tools/tool-use/fine-grained-tool-streaming) [Bash tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/bash-tool) [Code execution tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/code-execution-tool) [Programmatic tool calling](https://platform.claude.com/docs/en/agents-and-tools/tool-use/programmatic-tool-calling) [Computer use tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/computer-use-tool) [Text editor tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/text-editor-tool) [Web fetch tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/web-fetch-tool) [Web search tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/web-search-tool) [Memory tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/memory-tool) [Tool search tool](https://platform.claude.com/docs/en/agents-and-tools/tool-use/tool-search-tool)

Agent Skills

[Overview](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/overview) [Quickstart](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/quickstart) [Best practices](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices) [Using Skills with the API](https://platform.claude.com/docs/en/build-with-claude/skills-guide)

Agent SDK

[Overview](https://platform.claude.com/docs/en/agent-sdk/overview) [Quickstart](https://platform.claude.com/docs/en/agent-sdk/quickstart) [TypeScript SDK](https://platform.claude.com/docs/en/agent-sdk/typescript) [TypeScript V2 (preview)](https://platform.claude.com/docs/en/agent-sdk/typescript-v2-preview) [Python SDK](https://platform.claude.com/docs/en/agent-sdk/python) [Migration Guide](https://platform.claude.com/docs/en/agent-sdk/migration-guide) Guides

[Streaming Input](https://platform.claude.com/docs/en/agent-sdk/streaming-vs-single-mode) [Handling Permissions](https://platform.claude.com/docs/en/agent-sdk/permissions) [Session Management](https://platform.claude.com/docs/en/agent-sdk/sessions) [Structured outputs in the SDK](https://platform.claude.com/docs/en/agent-sdk/structured-outputs) [Hosting the Agent SDK](https://platform.claude.com/docs/en/agent-sdk/hosting) [Securely deploying AI agents](https://platform.claude.com/docs/en/agent-sdk/secure-deployment) [Modifying system prompts](https://platform.claude.com/docs/en/agent-sdk/modifying-system-prompts) [MCP in the SDK](https://platform.claude.com/docs/en/agent-sdk/mcp) [Custom Tools](https://platform.claude.com/docs/en/agent-sdk/custom-tools) [Subagents in the SDK](https://platform.claude.com/docs/en/agent-sdk/subagents) [Slash Commands in the SDK](https://platform.claude.com/docs/en/agent-sdk/slash-commands) [Agent Skills in the SDK](https://platform.claude.com/docs/en/agent-sdk/skills) [Tracking Costs and Usage](https://platform.claude.com/docs/en/agent-sdk/cost-tracking) [Todo Lists](https://platform.claude.com/docs/en/agent-sdk/todo-tracking) [Plugins in the SDK](https://platform.claude.com/docs/en/agent-sdk/plugins)

MCP in the API

[MCP connector](https://platform.claude.com/docs/en/agents-and-tools/mcp-connector) [Remote MCP servers](https://platform.claude.com/docs/en/agents-and-tools/remote-mcp-servers)

Claude on 3rd-party platforms

[Amazon Bedrock](https://platform.claude.com/docs/en/build-with-claude/claude-on-amazon-bedrock) [Microsoft Foundry](https://platform.claude.com/docs/en/build-with-claude/claude-in-microsoft-foundry) [Vertex AI](https://platform.claude.com/docs/en/build-with-claude/claude-on-vertex-ai)

Prompt engineering

[Overview](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/overview) [Prompt generator](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/prompt-generator) [Use prompt templates](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/prompt-templates-and-variables) [Prompt improver](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/prompt-improver) [Be clear and direct](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/be-clear-and-direct) [Use examples (multishot prompting)](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/multishot-prompting) [Let Claude think (CoT)](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/chain-of-thought) [Use XML tags](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/use-xml-tags) [Give Claude a role (system prompts)](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/system-prompts) [Prefill Claude's response](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/prefill-claudes-response) [Chain complex prompts](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/chain-prompts) [Long context tips](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/long-context-tips) [Extended thinking tips](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/extended-thinking-tips)

Test & evaluate

[Define success criteria](https://platform.claude.com/docs/en/test-and-evaluate/define-success) [Develop test cases](https://platform.claude.com/docs/en/test-and-evaluate/develop-tests) [Using the Evaluation Tool](https://platform.claude.com/docs/en/test-and-evaluate/eval-tool) [Reducing latency](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/reduce-latency)

Strengthen guardrails

[Reduce hallucinations](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/reduce-hallucinations) [Increase output consistency](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/increase-consistency) [Mitigate jailbreaks](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/mitigate-jailbreaks) [Streaming refusals](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/handle-streaming-refusals) [Reduce prompt leak](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/reduce-prompt-leak) [Keep Claude in character](https://platform.claude.com/docs/en/test-and-evaluate/strengthen-guardrails/keep-claude-in-character)

Administration and monitoring

[Admin API overview](https://platform.claude.com/docs/en/build-with-claude/administration-api) [Usage and Cost API](https://platform.claude.com/docs/en/build-with-claude/usage-cost-api) [Claude Code Analytics API](https://platform.claude.com/docs/en/build-with-claude/claude-code-analytics-api)

[Console](https://platform.claude.com/)

[Log in](https://platform.claude.com/login)

Agent SDK

Quickstart

Agent SDK

# Quickstart

Copy page

Get started with the Python or TypeScript Agent SDK to build AI agents that work autonomously

Copy page

Use the Agent SDK to build an AI agent that reads your code, finds bugs, and fixes them, all without manual intervention.

**What you'll do:**

1. Set up a project with the Agent SDK
2. Create a file with some buggy code
3. Run an agent that finds and fixes the bugs automatically

## Prerequisites

- **Node.js 18+** or **Python 3.10+**
- An **Anthropic account** ( [sign up here](https://console.anthropic.com/))

## Setup

1. 1



Install Claude Code







The Agent SDK uses Claude Code as its runtime. Install it for your platform:








macOS/Linux/WSL

macOS/Linux/WSL

Homebrew

Homebrew

npm

npm












```
curl -fsSL https://claude.ai/install.sh | bash
```





































After installing Claude Code onto your machine, run `claude` in your terminal and follow the prompts to authenticate. The SDK will use this authentication automatically.















For more information on Claude Code installation, see [Claude Code setup](https://docs.anthropic.com/en/docs/claude-code/setup).

2. 2



Create a project folder







Create a new directory for this quickstart:









```
mkdir my-agent && cd my-agent
```























For your own projects, you can run the SDK from any folder; it will have access to files in that directory and its subdirectories by default.

3. 3



Install the SDK







Install the Agent SDK package for your language:








TypeScript

TypeScript

Python (uv)

Python (uv)

Python (pip)

Python (pip)












```
npm install @anthropic-ai/claude-agent-sdk
```

4. 4



Set your API key







If you've already authenticated Claude Code (by running `claude` in your terminal), the SDK uses that authentication automatically.



Otherwise, you need an API key, which you can get from the [Anthropic Console](https://console.anthropic.com/).



Create a `.env` file in your project directory and store the API key there:









```
ANTHROPIC_API_KEY=your-api-key
```



































**Using Amazon Bedrock, Google Vertex AI, or Microsoft Azure?** See the setup guides for [Bedrock](https://code.claude.com/docs/en/amazon-bedrock), [Vertex AI](https://code.claude.com/docs/en/google-vertex-ai), or [Azure AI Foundry](https://code.claude.com/docs/en/azure-ai-foundry).



Unless previously approved, we do not allow third party developers to offer Claude.ai login or rate limits for their products, including agents built on the Claude Agent SDK. Please use the API key authentication methods described in this document instead.


## Create a buggy file

This quickstart walks you through building an agent that can find and fix bugs in code. First, you need a file with some intentional bugs for the agent to fix. Create `utils.py` in the `my-agent` directory and paste the following code:

```
def calculate_average(numbers):
    total = 0
    for num in numbers:
        total += num
    return total / len(numbers)

def get_user_name(user):
    return user["name"].upper()
```

This code has two bugs:

1. `calculate_average([])` crashes with division by zero
2. `get_user_name(None)` crashes with a TypeError

## Build an agent that finds and fixes bugs

Create `agent.py` if you're using the Python SDK, or `agent.ts` for TypeScript:

Python

```
import asyncio
from claude_agent_sdk import query, ClaudeAgentOptions, AssistantMessage, ResultMessage

async def main():
    # Agentic loop: streams messages as Claude works
    async for message in query(
        prompt="Review utils.py for bugs that would cause crashes. Fix any issues you find.",
        options=ClaudeAgentOptions(
            allowed_tools=["Read", "Edit", "Glob"],  # Tools Claude can use
            permission_mode="acceptEdits"            # Auto-approve file edits
        )
    ):
        # Print human-readable output
        if isinstance(message, AssistantMessage):
            for block in message.content:
                if hasattr(block, "text"):
                    print(block.text)              # Claude's reasoning
                elif hasattr(block, "name"):
                    print(f"Tool: {block.name}")   # Tool being called
        elif isinstance(message, ResultMessage):
            print(f"Done: {message.subtype}")      # Final result

asyncio.run(main())
```

This code has three main parts:

1. **`query`**: the main entry point that creates the agentic loop. It returns an async iterator, so you use `async for` to stream messages as Claude works. See the full API in the [Python](https://platform.claude.com/docs/en/agent-sdk/python#query) or [TypeScript](https://platform.claude.com/docs/en/agent-sdk/typescript#query) SDK reference.

2. **`prompt`**: what you want Claude to do. Claude figures out which tools to use based on the task.

3. **`options`**: configuration for the agent. This example uses `allowedTools` to restrict Claude to `Read`, `Edit`, and `Glob`, and `permissionMode: "acceptEdits"` to auto-approve file changes. Other options include `systemPrompt`, `mcpServers`, and more. See all options for [Python](https://platform.claude.com/docs/en/agent-sdk/python#claudeagentoptions) or [TypeScript](https://platform.claude.com/docs/en/agent-sdk/typescript#claudeagentoptions).


The `async for` loop keeps running as Claude thinks, calls tools, observes results, and decides what to do next. Each iteration yields a message: Claude's reasoning, a tool call, a tool result, or the final outcome. The SDK handles the orchestration (tool execution, context management, retries) so you just consume the stream. The loop ends when Claude finishes the task or hits an error.

The message handling inside the loop filters for human-readable output. Without filtering, you'd see raw message objects including system initialization and internal state, which is useful for debugging but noisy otherwise.

This example uses streaming to show progress in real-time. If you don't need live output (e.g., for background jobs or CI pipelines), you can collect all messages at once. See [Streaming vs. single-turn mode](https://platform.claude.com/docs/en/agent-sdk/streaming-vs-single-mode) for details.

### Run your agent

Your agent is ready. Run it with the following command:

Python

```
python3 agent.py
```

After running, check `utils.py`. You'll see defensive code handling empty lists and null users. Your agent autonomously:

1. **Read**`utils.py` to understand the code
2. **Analyzed** the logic and identified edge cases that would crash
3. **Edited** the file to add proper error handling

This is what makes the Agent SDK different: Claude executes tools directly instead of asking you to implement them.

If you see "Claude Code not found", [install Claude Code](https://platform.claude.com/docs/en/agent-sdk/quickstart#install-claude-code) and restart your terminal. For "API key not found", [set your API key](https://platform.claude.com/docs/en/agent-sdk/quickstart#set-your-api-key). See the [full troubleshooting guide](https://docs.anthropic.com/en/docs/claude-code/troubleshooting) for more help.

### Try other prompts

Now that your agent is set up, try some different prompts:

- `"Add docstrings to all functions in utils.py"`
- `"Add type hints to all functions in utils.py"`
- `"Create a README.md documenting the functions in utils.py"`

### Customize your agent

You can modify your agent's behavior by changing the options. Here are a few examples:

**Add web search capability:**

Python

```
options=ClaudeAgentOptions(
    allowed_tools=["Read", "Edit", "Glob", "WebSearch"],
    permission_mode="acceptEdits"
)
```

**Give Claude a custom system prompt:**

Python

```
options=ClaudeAgentOptions(
    allowed_tools=["Read", "Edit", "Glob"],
    permission_mode="acceptEdits",
    system_prompt="You are a senior Python developer. Always follow PEP 8 style guidelines."
)
```

**Run commands in the terminal:**

Python

```
options=ClaudeAgentOptions(
    allowed_tools=["Read", "Edit", "Glob", "Bash"],
    permission_mode="acceptEdits"
)
```

With `Bash` enabled, try: `"Write unit tests for utils.py, run them, and fix any failures"`

## Key concepts

**Tools** control what your agent can do:

| Tools | What the agent can do |
| --- | --- |
| `Read`, `Glob`, `Grep` | Read-only analysis |
| `Read`, `Edit`, `Glob` | Analyze and modify code |
| `Read`, `Edit`, `Bash`, `Glob`, `Grep` | Full automation |

**Permission modes** control how much human oversight you want:

| Mode | Behavior | Use case |
| --- | --- | --- |
| `acceptEdits` | Auto-approves file edits, asks for other actions | Trusted development workflows |
| `bypassPermissions` | Runs without prompts | CI/CD pipelines, automation |
| `default` | Requires a `canUseTool` callback to handle approval | Custom approval flows |

The example above uses `acceptEdits` mode, which auto-approves file operations so the agent can run without interactive prompts. If you want to prompt users for approval, use `default` mode and provide a [`canUseTool` callback](https://platform.claude.com/docs/en/agent-sdk/permissions#canusetool) that collects user input. For more control, see [Permissions](https://platform.claude.com/docs/en/agent-sdk/permissions).

## Next steps

Now that you've created your first agent, learn how to extend its capabilities and tailor it to your use case:

- **[Available tools](https://docs.anthropic.com/en/docs/claude-code/cli-reference#tools-available-to-claude)**: full list of built-in tools your agent can use
- **[Permissions](https://platform.claude.com/docs/en/agent-sdk/permissions)**: control what your agent can do and when it needs approval
- **[Hooks](https://docs.anthropic.com/en/docs/claude-code/hooks)**: run custom code before or after tool calls
- **[Sessions](https://platform.claude.com/docs/en/agent-sdk/sessions)**: build multi-turn agents that maintain context
- **[MCP servers](https://platform.claude.com/docs/en/agent-sdk/mcp)**: connect to databases, browsers, APIs, and other external systems
- **[Hosting](https://platform.claude.com/docs/en/agent-sdk/hosting)**: deploy agents to Docker, cloud, and CI/CD
- **[Example agents](https://github.com/anthropics/claude-agent-sdk-demos)**: see complete examples: email assistant, research agent, and more

- [Prerequisites](https://platform.claude.com/docs/en/agent-sdk/quickstart#prerequisites)
- [Setup](https://platform.claude.com/docs/en/agent-sdk/quickstart#setup)
- [Create a buggy file](https://platform.claude.com/docs/en/agent-sdk/quickstart#create-a-buggy-file)
- [Build an agent that finds and fixes bugs](https://platform.claude.com/docs/en/agent-sdk/quickstart#build-an-agent-that-finds-and-fixes-bugs)
- [Run your agent](https://platform.claude.com/docs/en/agent-sdk/quickstart#run-your-agent)
- [Try other prompts](https://platform.claude.com/docs/en/agent-sdk/quickstart#try-other-prompts)
- [Customize your agent](https://platform.claude.com/docs/en/agent-sdk/quickstart#customize-your-agent)
- [Key concepts](https://platform.claude.com/docs/en/agent-sdk/quickstart#key-concepts)
- [Next steps](https://platform.claude.com/docs/en/agent-sdk/quickstart#next-steps)

[Claude Docs home page](https://platform.claude.com/docs)

[X (Twitter)](https://x.com/claudeai)[LinkedIn](https://www.linkedin.com/showcase/claude)[Instagram](https://instagram.com/claudeai)

### Solutions

- [AI agents](https://claude.com/solutions/agents)
- [Code modernization](https://claude.com/solutions/code-modernization)
- [Coding](https://claude.com/solutions/coding)
- [Customer support](https://claude.com/solutions/customer-support)
- [Education](https://claude.com/solutions/education)
- [Financial services](https://claude.com/solutions/financial-services)
- [Government](https://claude.com/solutions/government)
- [Life sciences](https://claude.com/solutions/life-sciences)

### Partners

- [Amazon Bedrock](https://claude.com/partners/amazon-bedrock)
- [Google Cloud's Vertex AI](https://claude.com/partners/google-cloud-vertex-ai)

### Learn

- [Blog](https://claude.com/blog)
- [Catalog](https://claude.ai/catalog/artifacts)
- [Courses](https://www.anthropic.com/learn)
- [Use cases](https://claude.com/resources/use-cases)
- [Connectors](https://claude.com/partners/mcp)
- [Customer stories](https://claude.com/customers)
- [Engineering at Anthropic](https://www.anthropic.com/engineering)
- [Events](https://www.anthropic.com/events)
- [Powered by Claude](https://claude.com/partners/powered-by-claude)
- [Service partners](https://claude.com/partners/services)
- [Startups program](https://claude.com/programs/startups)

### Company

- [Anthropic](https://www.anthropic.com/company)
- [Careers](https://www.anthropic.com/careers)
- [Economic Futures](https://www.anthropic.com/economic-futures)
- [Research](https://www.anthropic.com/research)
- [News](https://www.anthropic.com/news)
- [Responsible Scaling Policy](https://www.anthropic.com/news/announcing-our-updated-responsible-scaling-policy)
- [Security and compliance](https://trust.anthropic.com/)
- [Transparency](https://www.anthropic.com/transparency)

### Learn

- [Blog](https://claude.com/blog)
- [Catalog](https://claude.ai/catalog/artifacts)
- [Courses](https://www.anthropic.com/learn)
- [Use cases](https://claude.com/resources/use-cases)
- [Connectors](https://claude.com/partners/mcp)
- [Customer stories](https://claude.com/customers)
- [Engineering at Anthropic](https://www.anthropic.com/engineering)
- [Events](https://www.anthropic.com/events)
- [Powered by Claude](https://claude.com/partners/powered-by-claude)
- [Service partners](https://claude.com/partners/services)
- [Startups program](https://claude.com/programs/startups)

### Help and security

- [Availability](https://www.anthropic.com/supported-countries)
- [Status](https://status.anthropic.com/)
- [Support](https://support.claude.com/)
- [Discord](https://www.anthropic.com/discord)

### Terms and policies

- [Privacy policy](https://www.anthropic.com/legal/privacy)
- [Responsible disclosure policy](https://www.anthropic.com/responsible-disclosure-policy)
- [Terms of service: Commercial](https://www.anthropic.com/legal/commercial-terms)
- [Terms of service: Consumer](https://www.anthropic.com/legal/consumer-terms)
- [Usage policy](https://www.anthropic.com/legal/aup)

Ask Docs
![Chat avatar](https://platform.claude.com/docs/images/book-icon-light.svg)

a.claude.ai

# a.claude.ai is blocked

**a.claude.ai** refused to connect.

ERR\_BLOCKED\_BY\_RESPONSE

**a.claude.ai** refused to connect.

![](<Base64-Image-Removed>)![](<Base64-Image-Removed>)